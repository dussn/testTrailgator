{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'universal-cookie';\n\nconst auth = jwt => {\n  const cookies = new Cookies();\n\n  if (jwt) {\n    //formats token to post to server\n    var token = {\n      code: jwt\n    }; //send post request to backend under /auth\n\n    axios //post to localhost/auth\n    .post(\"http://localhost:3001/auth\", token).then(function (response) {\n      if (response.data != false) {\n        //checks the return is not false \n        cookies.set('isAuth', true);\n        cookies.set('role', response.data.role);\n        cookies.set('email', response.data.username);\n        alert(cookies.get('email'));\n      } else {\n        cookies.set('isAuth', false);\n        cookies.remove('token');\n        cookies.remove('role');\n        cookies.remove('email');\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n  } else {\n    cookies.set('isAuth', false);\n    cookies.remove('token');\n    cookies.remove('role');\n    cookies.remove('email');\n  }\n};\n\nexport default auth;","map":{"version":3,"sources":["C:/Users/dusti/Documents/GitHub/Trail-Gators/client/src/Login/auth.js"],"names":["axios","Cookies","auth","jwt","cookies","token","code","post","then","response","data","set","role","username","alert","get","remove","catch","err","console","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAqB,kBAArB;;AAEA,MAAMC,IAAI,GAAIC,GAAD,IAAS;AAClB,QAAMC,OAAO,GAAG,IAAIH,OAAJ,EAAhB;;AACA,MAAGE,GAAH,EAAO;AACH;AACA,QAAIE,KAAK,GAAG;AACRC,MAAAA,IAAI,EAAEH;AADE,KAAZ,CAFG,CAMH;;AACAH,IAAAA,KAAK,CAAC;AAAD,KACJO,IADD,CACM,4BADN,EACmCF,KADnC,EAECG,IAFD,CAEM,UAAUC,QAAV,EAAoB;AAClB,UAAGA,QAAQ,CAACC,IAAT,IAAiB,KAApB,EACA;AACI;AACAN,QAAAA,OAAO,CAACO,GAAR,CAAY,QAAZ,EAAqB,IAArB;AACAP,QAAAA,OAAO,CAACO,GAAR,CAAY,MAAZ,EAAmBF,QAAQ,CAACC,IAAT,CAAcE,IAAjC;AACAR,QAAAA,OAAO,CAACO,GAAR,CAAY,OAAZ,EAAoBF,QAAQ,CAACC,IAAT,CAAcG,QAAlC;AACAC,QAAAA,KAAK,CAACV,OAAO,CAACW,GAAR,CAAY,OAAZ,CAAD,CAAL;AACH,OAPD,MAQK;AACDX,QAAAA,OAAO,CAACO,GAAR,CAAY,QAAZ,EAAqB,KAArB;AACAP,QAAAA,OAAO,CAACY,MAAR,CAAe,OAAf;AACAZ,QAAAA,OAAO,CAACY,MAAR,CAAe,MAAf;AACAZ,QAAAA,OAAO,CAACY,MAAR,CAAe,OAAf;AACH;AACJ,KAjBL,EAkBKC,KAlBL,CAkBWC,GAAG,IAAI;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACH,KApBL;AAqBH,GA5BD,MA6BK;AACDd,IAAAA,OAAO,CAACO,GAAR,CAAY,QAAZ,EAAqB,KAArB;AACAP,IAAAA,OAAO,CAACY,MAAR,CAAe,OAAf;AACAZ,IAAAA,OAAO,CAACY,MAAR,CAAe,MAAf;AACAZ,IAAAA,OAAO,CAACY,MAAR,CAAe,OAAf;AACH;AACJ,CArCD;;AAuCA,eAAed,IAAf","sourcesContent":["import axios from 'axios';\r\nimport Cookies  from 'universal-cookie';\r\n\r\nconst auth = (jwt) => {\r\n    const cookies = new Cookies();\r\n    if(jwt){\r\n        //formats token to post to server\r\n        var token = {\r\n            code: jwt\r\n        }\r\n\r\n        //send post request to backend under /auth\r\n        axios //post to localhost/auth\r\n        .post(\"http://localhost:3001/auth\",token)\r\n        .then(function (response) {\r\n                if(response.data != false)\r\n                {\r\n                    //checks the return is not false \r\n                    cookies.set('isAuth',true);\r\n                    cookies.set('role',response.data.role);\r\n                    cookies.set('email',response.data.username);\r\n                    alert(cookies.get('email'))\r\n                }\r\n                else {\r\n                    cookies.set('isAuth',false);\r\n                    cookies.remove('token');\r\n                    cookies.remove('role');\r\n                    cookies.remove('email');\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.error(err);\r\n            });\r\n    }\r\n    else {\r\n        cookies.set('isAuth',false);\r\n        cookies.remove('token');\r\n        cookies.remove('role');\r\n        cookies.remove('email');\r\n    }\r\n}\r\n\r\nexport default auth;"]},"metadata":{},"sourceType":"module"}